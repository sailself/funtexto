:root {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;

  /* --- Design Tokens --- */

  /* Palette: Indigo & Slate */
  --color-primary: #6366f1;
  /* Indigo 500 */
  --color-primary-hover: #4f46e5;
  /* Indigo 600 */
  --color-secondary: #64748b;
  /* Slate 500 */

  /* Light Theme Defaults */
  --bg-color: #f8fafc;
  /* Slate 50 */
  --text-primary: #1e293b;
  /* Slate 800 */
  --text-secondary: #64748b;
  /* Slate 500 */

  --surface-bg: #ffffff;
  --surface-border: #e2e8f0;
  /* Slate 200 */
  --surface-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --glass-bg: rgba(255, 255, 255, 0.8);
  --glass-border: rgba(255, 255, 255, 0.5);

  --input-bg: #f1f5f9;
  /* Slate 100 */
  --input-text: #0f172a;

  /* Rank Colors */
  --rank-green: #34d399;
  /* Emerald 400 */
  --rank-yellow: #fbbf24;
  /* Amber 400 */
  --rank-red: #f87171;
  /* Red 400 */
  --bar-opacity: 0.8;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body.dark-mode {
  /* Dark Theme Overrides */
  --color-primary: #818cf8;
  /* Indigo 400 */
  --color-primary-hover: #a5b4fc;
  /* Indigo 300 */

  --bg-color: #0f172a;
  /* Slate 900 */
  --text-primary: #f8fafc;
  /* Slate 50 */
  --text-secondary: #94a3b8;
  /* Slate 400 */

  --surface-bg: #1e293b;
  /* Slate 800 */
  --surface-border: #334155;
  /* Slate 700 */
  --surface-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.5);
  --glass-bg: rgba(30, 41, 59, 0.7);
  --glass-border: rgba(255, 255, 255, 0.1);

  --input-bg: #334155;
  --input-text: #f1f5f9;

  /* Rank Colors Adjustment for Dark Mode */
  --rank-green: #10b981;
  --rank-yellow: #f59e0b;
  --rank-red: #ef4444;
}

body {
  margin: 0;
  display: flex;
  justify-content: center;
  min-width: 320px;
  min-height: 100vh;
  background-color: var(--bg-color);
  color: var(--text-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
  overflow-y: scroll;
  /* Prevent layout shift */
}

#root {
  width: 100%;
  max-width: 640px;
  /* Slightly wider for better breathing room */
  padding: 2rem 1rem;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* --- Typography --- */
h1 {
  font-size: 3rem;
  line-height: 1.1;
  font-weight: 800;
  letter-spacing: -0.02em;
  margin-bottom: 0.5rem;
  background: linear-gradient(135deg, var(--color-primary), #ec4899);
  /* Indigo to Pink gradient */
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
}

a {
  font-weight: 500;
  color: var(--color-primary);
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  color: var(--color-primary-hover);
  text-decoration: underline;
}

/* --- Utilities --- */
.glass-panel {
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
  box-shadow: var(--surface-shadow);
}

/* --- Header & Info --- */
.header {
  margin-bottom: 2rem;
  text-align: center;
  width: 100%;
}

.game-info {
  color: var(--text-secondary);
  font-size: 1rem;
  margin-top: 0.5rem;
}

/* --- Buttons --- */
button {
  border-radius: 12px;
  /* Softer corners */
  border: 1px solid transparent;
  padding: 0.75em 1.5em;
  font-size: 1em;
  font-weight: 600;
  font-family: inherit;
  background-color: var(--surface-bg);
  color: var(--text-primary);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
}

button:active {
  transform: translateY(0);
}

button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.submit-btn {
  background-color: var(--color-primary);
  color: white;
  box-shadow: 0 4px 6px -1px rgba(99, 102, 241, 0.4);
  /* Colored shadow */
}

.submit-btn:hover {
  background-color: var(--color-primary-hover);
  box-shadow: 0 10px 15px -3px rgba(99, 102, 241, 0.5);
}

/* Dark mode button adjustments handled by vars primarily, specifics if needed: */
body.dark-mode .submit-btn {
  color: #000;
  /* Contrast on bright indigo/violet */
  font-weight: 700;
}

.secondary-btn {
  background-color: transparent;
  border: 1px solid var(--surface-border);
  color: var(--text-secondary);
  box-shadow: none;
}

.secondary-btn:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
  background-color: var(--surface-bg);
}

/* --- Input Area --- */
.input-wrapper {
  display: flex;
  gap: 12px;
  margin: 2rem 0;
  width: 100%;
  position: relative;
}

.guess-input {
  flex: 1;
  padding: 16px 20px;
  border-radius: 12px;
  border: 2px solid transparent;
  /* Prepare for focus ring */
  background-color: var(--input-bg);
  color: var(--input-text);
  font-size: 1.2rem;
  outline: none;
  transition: all 0.2s ease;
  box-shadow: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
}

.guess-input:focus {
  background-color: var(--surface-bg);
  border-color: var(--color-primary);
  box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2);
  /* Ring effect */
}

/* --- Guess Rows --- */
.guess-row {
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 20px;
  margin-bottom: 10px;
  border-radius: 12px;
  overflow: hidden;
  background-color: var(--surface-bg);
  border: 1px solid var(--surface-border);
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.05);
  transition: transform 0.2s;

  /* Animation for new entries */
  animation: slideInUp 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.guess-row:hover {
  transform: scale(1.01);
}

.progress-bar {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  z-index: 0;
  opacity: var(--bar-opacity);
  /* Use a gradient for better aesthetics */
  mask-image: linear-gradient(to right, black 90%, transparent 100%);
  -webkit-mask-image: linear-gradient(to right, black 90%, transparent 100%);
  transition: width 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  /* Bouncy spring-like */
}

.word-content,
.rank-content {
  position: relative;
  z-index: 1;
  font-weight: 600;
  font-size: 1.1rem;
  /* Smart text color based on background is hard in pure CSS without known background 
     but mix-blend-mode: difference usually works well for bars. */
  color: var(--text-primary);
  /* Fallback: if bar is under text, difference mode kicks in */
}

/* Use a different strategy for text contrast if purely CSS vars are tricky. 
   Let's trust the "difference" or just use dark text on light bg (and vice versa).
   Actually, with colored bars, "difference" is risky if colors are mid-tone.
   Let's try just standard text color and rely on opacity of bar. 
*/
.guess-row .word-content,
.guess-row .rank-content {
  color: var(--text-primary);
  mix-blend-mode: normal;
  /* Resetting just in case */
}


/* --- Menu Button & Drawer --- */
.menu-btn {
  position: absolute;
  top: 20px;
  left: 20px;
  background: var(--surface-bg);
  border: 1px solid var(--surface-border);
  color: var(--text-secondary);
  padding: 8px;
  border-radius: 50%;
  /* Circle button */
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 102;
  box-shadow: var(--surface-shadow);
}

.menu-btn:hover {
  color: var(--color-primary);
  background: var(--surface-bg);
}

.menu-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.3);
  z-index: 100;
  backdrop-filter: blur(4px);
  animation: fadeIn 0.2s ease-out;
}

.menu-drawer {
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 300px;
  background: var(--surface-bg);
  color: var(--text-primary);
  z-index: 101;
  padding: 2rem;
  box-shadow: 10px 0 30px rgba(0, 0, 0, 0.1);
  animation: slideInLeft 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border-right: 1px solid var(--surface-border);
}

.menu-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--surface-border);
}

.menu-header h2 {
  font-size: 1.8rem;
  font-weight: 700;
  margin: 0;
  color: var(--color-primary);
}

.close-btn {
  background: transparent;
  font-size: 1.5rem;
  padding: 5px;
  color: var(--text-secondary);
  box-shadow: none;
  border: none;
}

.close-btn:hover {
  color: var(--text-primary);
  background: var(--input-bg);
  transform: none;
}

.menu-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.menu-list li {
  padding: 16px;
  margin-bottom: 8px;
  cursor: pointer;
  border-radius: 12px;
  transition: all 0.2s;
  font-size: 1.1rem;
  font-weight: 500;
  color: var(--text-primary);
}

.menu-list li:hover {
  background-color: var(--input-bg);
  color: var(--color-primary);
  transform: translateX(5px);
}

/* --- Modals --- */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  z-index: 200;
  backdrop-filter: blur(5px);
  display: flex;
  justify-content: center;
  align-items: center;
  animation: fadeIn 0.2s ease-out;
}

.modal-content {
  background-color: var(--surface-bg);
  color: var(--text-primary);
  padding: 2rem;
  border-radius: 20px;
  /* More rounded */
  width: 90%;
  max-width: 450px;
  box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  border: 1px solid var(--surface-border);
  animation: scaleIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--surface-border);
}

.modal-header h2 {
  font-size: 1.5rem;
  margin: 0;
}

/* --- Settings & Stats --- */
.setting-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 0;
  border-bottom: 1px solid var(--surface-border);
}

.setting-select {
  padding: 10px 16px;
  border-radius: 8px;
  background-color: var(--input-bg);
  color: var(--text-primary);
  border: 1px solid var(--surface-border);
  font-size: 1rem;
  outline: none;
  cursor: pointer;
}

.stats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  text-align: center;
  margin-top: 1rem;
}

.stat-item {
  display: flex;
  flex-direction: column;
  padding: 16px;
  background-color: var(--input-bg);
  border-radius: 12px;
  transition: transform 0.2s;
}

.stat-item:hover {
  transform: translateY(-2px);
}

.stat-val {
  font-size: 2rem;
  font-weight: 800;
  color: var(--color-primary);
}

.stat-label {
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-top: 5px;
}

/* --- Animations --- */
@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-100%);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* --- Ranking Modal Specifics --- */
.ranking-list {
  max-height: 400px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ranking-item {
  display: flex;
  justify-content: space-between;
  padding: 10px 16px;
  background-color: var(--input-bg);
  border-radius: 8px;
  font-weight: 500;
  color: var(--text-primary);
}